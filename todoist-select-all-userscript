// ==UserScript==
// @name         TODOist select all
// @namespace    https://github.com/ben-poole/todoist-userscript-select-all
// @version      0.1
// @description  A UserScript which can be used to 'Select All' with Todoist (Feature pending: https://todoist.com/Support/show/28387/). 
// @author       Ben Poole
// @match        https://en.todoist.com/app?*
// @require      http://cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js
// @grant        none
// ==/UserScript==

$.ctrl = function(key, callback, args) {
    var isCtrl = false;
    $(document).keydown(function(e) {
        if(!args) args=[]; // IE barks when args is null
        
        if(e.ctrlKey) isCtrl = true;
        if(e.keyCode == key.charCodeAt(0) && isCtrl) {
            callback.apply(this, args);
            return false;
        }
    }).keyup(function(e) {
        if(e.ctrlKey) isCtrl = false;
    });        
};

(function ($, undefined) {
  $(function () {
    var items = $(".task_item");

    // TODO implement listener on Ctrl+A
     /* $.ctrl('A', function() {
          items.addClass('selected');
      });*/

    items.addClass('selected');
  });
})(window.jQuery.noConflict(true));